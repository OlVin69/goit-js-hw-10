{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst inputTimer = document.querySelector('#datetime-picker'); \nconst startButton = document.querySelector('button'); \nconst daysEl = document.querySelector('[data-days]'); \nconst hoursEl = document.querySelector('[data-hours]'); \nconst minutesEl = document.querySelector('[data-minutes]'); \nconst secondsEl = document.querySelector('[data-seconds]'); \nlet userSelectedDate = ''; \nstartButton.setAttribute('disabled', true); \n\nconst options = {\n    enableTime: true,     \n    time_24hr: true, \n    defaultDate: new Date(), \n    minuteIncrement: 1, \n    onClose(selectedDates) {   \n        if (selectedDates.length > 0) {\n            const selectedDate = selectedDates[0];\n            userSelectedDate = selectedDate;\n\n            if (selectedDate <= Date.now()) {\n                startButton.setAttribute('disabled', true);\n                return  iziToast.error({ title: 'Error', message: 'Please choose a date in the future', position:'topRight', backgroundColor: 'red', });\n            }\n            startButton.removeAttribute('disabled')  \n        }\n    }      \n};\n\nflatpickr(inputTimer, options);\n\nconst addLeadingZero = (value) => String(value).padStart(2, '0');\n\nconst updateTimer = () => {\n      const currentTime = Date.now();\n      const timeDifference = userSelectedDate - currentTime;\n\n      if (timeDifference <= 0) {\n        \n        clearInterval(timerInterval);\n        startButton.removeAttribute('disabled');\n      } else {\n        const { days, hours, minutes, seconds } = convertMs(timeDifference);\n        daysEl.textContent = addLeadingZero(days);\n        hoursEl.textContent = addLeadingZero(hours);\n        minutesEl.textContent = addLeadingZero(minutes);\n        secondsEl.textContent = addLeadingZero(seconds);\n      }\n};\n    \nconst convertMs = (ms) => {\n      const second = 1000;\n      const minute = second * 60;\n      const hour = minute * 60;\n      const day = hour * 24;\n\n      const days = Math.floor(ms / day);\n      const hours = Math.floor((ms % day) / hour);\n      const minutes = Math.floor(((ms % day) % hour) / minute);\n      const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n      return { days, hours, minutes, seconds };\n};\n    let timerInterval;\n\n    startButton.addEventListener('click', () => {\n      startButton.setAttribute('disabled', true);\n        timerInterval = setInterval(updateTimer, 1000);\n     });\n"],"names":["inputTimer","startButton","daysEl","hoursEl","minutesEl","secondsEl","userSelectedDate","options","selectedDates","selectedDate","iziToast","flatpickr","addLeadingZero","value","updateTimer","currentTime","timeDifference","timerInterval","days","hours","minutes","seconds","convertMs","ms"],"mappings":"2FAMA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAc,SAAS,cAAc,QAAQ,EAC7CC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EACzD,IAAIC,EAAmB,GACvBL,EAAY,aAAa,WAAY,EAAI,EAEzC,MAAMM,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,GAAIA,EAAc,OAAS,EAAG,CAC1B,MAAMC,EAAeD,EAAc,GAGnC,GAFAF,EAAmBG,EAEfA,GAAgB,KAAK,MACrB,OAAAR,EAAY,aAAa,WAAY,EAAI,EACjCS,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,qCAAsC,SAAS,WAAY,gBAAiB,KAAQ,CAAA,EAE1IT,EAAY,gBAAgB,UAAU,CACzC,CACJ,CACL,EAEAU,EAAUX,EAAYO,CAAO,EAE7B,MAAMK,EAAkBC,GAAU,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,EAEzDC,EAAc,IAAM,CACpB,MAAMC,EAAc,KAAK,MACnBC,EAAiBV,EAAmBS,EAE1C,GAAIC,GAAkB,EAEpB,cAAcC,CAAa,EAC3BhB,EAAY,gBAAgB,UAAU,MACjC,CACL,KAAM,CAAE,KAAAiB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAc,EAClEd,EAAO,YAAcU,EAAeM,CAAI,EACxCf,EAAQ,YAAcS,EAAeO,CAAK,EAC1Cf,EAAU,YAAcQ,EAAeQ,CAAO,EAC9Cf,EAAU,YAAcO,EAAeS,CAAO,CAC/C,CACP,EAEMC,EAAaC,GAAO,CAMpB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAC1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EACpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EACjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC5C,EACI,IAAIJ,EAEJhB,EAAY,iBAAiB,QAAS,IAAM,CAC1CA,EAAY,aAAa,WAAY,EAAI,EACvCgB,EAAgB,YAAYH,EAAa,GAAI,CACrD,CAAM"}